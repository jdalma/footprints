
# "5μ¥" μ›Ή μ„λ²„

## 5.1 λ‹¤μ±„λ΅μ΄ μ›Ή μ„λ²„

κΈ°λ¥μ€ λ‹¬λΌλ„, **λ¨λ“  μ›Ή μ„λ²„λ” λ¦¬μ†μ¤μ— λ€ν• HTTP μ”μ²­μ„ λ°›μ•„μ„ μ½ν…μΈ λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² λλ ¤μ¤€λ‹¤.**  
**μ›Ή μ„λ²„λ” HTTP λ° κ·Έμ™€ κ΄€λ ¨λ TCPμ²λ¦¬λ¥Ό κµ¬ν„ν• κ²ƒμ΄λ‹¤.**  
- TCP μ»¤λ„¥μ… κ΄€λ¦¬μ— λ€ν• μ±…μ„μ„ μ΄μμ²΄μ μ™€ λ‚λ  κ°–λ”λ‹¤.

1. **μ»¤λ„¥μ…μ„ λ§Ίλ”λ‹¤.**
2. **μ”μ²­μ„ λ°›λ”λ‹¤.** : HTTP μ”μ²­ λ©”μ‹μ§€λ¥Ό λ„¤νΈμ›ν¬λ΅λ¶€ν„° μ½μ–΄λ“¤μΈλ‹¤.
3. **μ”μ²­μ„ μ²λ¦¬ν•λ‹¤.** : μ”μ²­ λ©”μ‹μ§€λ¥Ό ν•΄μ„ν•κ³  ν–‰λ™μ„ μ·¨ν•λ‹¤.
4. **λ¦¬μ†μ¤μ— μ ‘κ·Όν•λ‹¤.** : λ©”μ‹μ§€μ—μ„ μ§€μ •ν• λ¦¬μ†μ¤μ— μ ‘κ·Όν•λ‹¤.
5. **μ‘λ‹µμ„ λ§λ“ λ‹¤.** : μ¬λ°”λ¥Έ ν—¤λ”λ¥Ό ν¬ν•¨ν• HTTP μ‘λ‹µ λ©”μ‹μ§€λ¥Ό μƒμ„±ν•λ‹¤.
6. **μ‘λ‹µμ„ λ³΄λ‚Έλ‹¤.** : μ‘λ‹µμ„ ν΄λΌμ΄μ–ΈνΈμ—κ² λλ ¤μ¤€λ‹¤.
7.  **νΈλμ­μ…μ„ λ΅κ·Έλ΅ λ‚¨κΈ΄λ‹¤.** : λ΅κ·ΈνμΌμ— νΈλμ­μ… μ™„λ£μ— λ€ν• κΈ°λ΅μ„ λ‚¨κΈ΄λ‹¤.
  
### **λ‹¨κ³„ 1 : ν΄λΌμ΄μ–ΈνΈ μ»¤λ„¥μ… μλ½**

1. **μƒ μ»¤λ„¥μ… λ‹¤λ£¨κΈ°**
   - ν΄λΌμ΄μ–ΈνΈκ°€ μ›Ή μ„λ²„μ— TCP μ»¤λ„¥μ…μ„ μ”μ²­ν•λ©΄, **μ›Ήμ„λ²„λ” μ»¤λ„¥μ…μ„ λ§Ίκ³  TCP μ»¤λ„¥μ…μ—μ„ IP μ£Όμ†λ¥Ό μ¶”μ¶ν•μ—¬ μ»¤λ„¥μ… λ§μ€νΈμ— μ–΄λ–¤ ν΄λΌμ΄μ–ΈνΈκ°€ μλ”μ§€ ν™•μΈν•λ‹¤.**  
   - λ™μΌν• μ»¤λ„¥μ…μ΄ μƒμ„±λμ§€ μ•λ„λ΅ μƒ μ»¤λ„¥μ…μ„ μ»¤λ„¥μ… λ©λ΅μ— μ¶”κ°€ν•λ‹¤.  
2. **ν΄λΌμ΄μ–ΈνΈ νΈμ¤νΈ λ… μ‹λ³„**
   - λ€λ¶€λ¶„μ μ›Ή μ„λ²„λ” `reverse DNS`λ¥Ό μ‚¬μ©ν•΄μ„ ν΄λΌμ΄μ–ΈνΈμ IP μ£Όμ†λ¥Ό ν΄λΌμ΄μ–ΈνΈμ νΈμ¤νΈ λ…μΌλ΅ λ°ν™ν•λ„λ΅ μ„¤μ •λμ–΄ μλ‹¤.
   - μ•„νμΉμ—μ„λ” `HostnameLookups` μ„¤μ • μ§€μ‹μλ΅ νΈμ¤νΈ λ… λ£©μ—…μ„ μΌ¤ μ μλ‹¤.
3. **`ident`λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ©μ μ•μ•„λ‚΄κΈ°**
   - [`RFC1413` Identification Protocol](https://www.rfc-editor.org/rfc/rfc1413)
   - λ‡λ‡ μ›Ήμ„λ²„λ” `IETF ident ν”„λ΅ν† μ½`μ„ μ§€μ›ν•λ‹¤. μ„λ²„μ—κ² μ–΄λ–¤ μ‚¬μ©μ μ΄λ¦„μ΄ HTTP μ»¤λ„¥μ…μ„ μ΄κΈ°ν™”ν–λ”μ§€ μ°Ύμ•„λ‚Ό μ μκ² ν•΄μ¤€λ‹¤.
   - μ—¬λ¬ μ΄μ λ΅ μΈν•΄ λ³΄ν†µ `ident λ΅κ·Έ ν•„λ“`λ¥Ό `-`μΌλ΅ μ±„μ°λ©°, μ μ‚¬μ©λμ§€ μ•λ”λ‹¤.

### **λ‹¨κ³„ 2 : μ”μ²­ λ©”μ‹μ§€ μμ‹ **

μ»¤λ„¥μ…μ— λ°μ΄ν„°κ°€ λ„μ°©ν•λ©΄, μμ‹ μλ” λ„¤νΈμ›ν¬ μ»¤λ„¥μ…μ—μ„ λ°μ΄ν„°λ¥Ό μ½μ–΄λ“¤μ΄κ³  νμ‹±ν•μ—¬ μ”μ²­ λ©”μ‹μ§€λ¥Ό κµ¬μ„±ν•λ‹¤.  

1. μ”μ²­μ¤„μ„ νμ‹±ν•μ—¬ `μ”μ²­ λ©”μ„λ“`, `μ§€μ •λ λ¦¬μ†μ¤μ μ‹λ³„μ(URI)`, `λ²„μ „ λ²νΈ`λ¥Ό μ°Ύλ”λ‹¤.
   1. κ° κ°’μ€ μ¤νμ΄μ¤ ν• κ°λ΅ λ¶„λ¦¬λμ–΄ μκ³ , μ”μ²­μ¤„μ€ μΊλ¦¬μ§€ μ¤„λ°”κΏ λ¬Έμμ—΄(CRLF)λ΅ λλ‚λ‹¤.
2. λ©”μ‹μ§€ ν—¤λ”λ“¤μ„ μ½λ”λ‹¤. κ° λ©”μ‹μ§€ ν—¤λ”λ„ CRLFλ΅ λλ‚λ‹¤.
3. ν—¤λ”μ λμ„ μλ―Έν•λ” CRLFλ΅ λλ‚λ” λΉ μ¤„μ„ μ°Ύμ•„λ‚Έλ‹¤ (μ΅΄μ¬ν•λ‹¤λ©΄)
4. μ”μ²­ λ³Έλ¬Έμ΄ μλ‹¤λ©΄ κΈΈμ΄λ” `Content-Length` ν—¤λ”λ΅ μ •μν•λ©°, λ³Έλ¬Έμ„ μ½μ–΄λ“¤μΈλ‹¤.
  
#### λ©”μ‹μ§€μ λ‚΄λ¶€ ν‘ν„

λ‡λ‡ μ›Ή μ„λ²„λ” μ”μ²­ λ©”μ‹μ§€λ¥Ό μ‰½κ² λ‹¤λ£° μ μλ„λ΅ λ‚΄λ¶€μ μλ£ κµ¬μ΅°μ— μ €μ¥ν•λ‹¤.  

![](imgs/messageExpression.png)

#### μ»¤λ„¥μ… I/O μ•„ν‚¤ν…μ² π“

κ³ μ„±λ¥ μ›Ή μ„λ²„λ” μμ² κ°μ μ»¤λ„¥μ…μ„ λ™μ‹μ— μ—΄ μ μλ„λ΅ μ§€μ›ν•λ‹¤.  
**μ›Ή μ„λ²„ μ•„ν‚¤ν…μ²μ μ°¨μ΄μ— λ”°λΌ μ”μ²­μ„ μ²λ¦¬ν•λ” λ°©μ‹λ„ λ‹¬λΌμ§„λ‹¤.**  

![](imgs/connectionArchitecture.png)

- **λ‹¨μΌ μ¤λ λ“ μ›Ή μ„λ²„**
- **λ©€ν‹°ν”„λ΅μ„Έμ¤μ™€ λ©€ν‹°μ¤λ λ“ μ›Ή μ„λ²„**
- **λ‹¤μ¤‘ I/O μ„λ²„**
- **λ‹¤μ¤‘ λ©€ν‹°μ¤λ λ“ μ›Ή μ„λ²„**