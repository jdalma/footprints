
# **ν”„λ΅μ‹ ν¨ν„΄**

ν”„λ΅μ‹ ν¨ν„΄μ κΈ°λ³Έ κΈ°λ¥μ€ **ν”„λ΅μ‹ ν΄λμ¤λ¥Ό μƒμ„±ν•μ—¬ μ›λ³Έ ν΄λμ¤μ™€ κ΄€λ ¨μ΄ μ—†λ” κΈ°λ¥μ„ μ¶”κ°€ν•λ” κ²ƒ** μ΄λ‹¤.  
1. μ£Όμ” λΉ„μ¦λ‹μ¤μ™€ κ΄€λ ¨ μ—†λ” μ”κµ¬ μ‚¬ν•­μ κ°λ°μ— ν™μ©λ  μ μλ‹¤.
   - λ¨λ‹ν„°λ§, ν†µκ³„, μΈμ¦, νΈλν”½ μ ν•, νΈλμ­μ…, λ©±λ“±μ„±, λ΅κΉ…κ³Ό κ°™μ΄ μ£Όμ” λΉ„μ¦λ‹μ¤μ™€ κ΄€λ ¨μ—†λ” μ”κµ¬ μ‚¬ν•­μ„ κ°λ°ν•λ”λ° μ ν•©ν•λ‹¤.
2. RPCμ—μ„ ν”„λ΅μ‹ ν¨ν„΄μ„ μ μ©ν•  μ μλ‹¤.
   - RPC ν”„λ μ„μ›ν¬λ” ν”„λ΅μ‹ ν¨ν„΄μ μ‘μ© ν”„λ΅κ·Έλ¨μ΄λ‹¤.
3. μΊμ‹μ— ν”„λ΅μ‹ ν¨ν„΄μ„ μ μ©ν•  μ μλ‹¤.


## μΈν„°νμ΄μ¤ κΈ°λ°μ ν”„λ΅μ‹ ν¨ν„΄

ν”„λ΅μ‹ ν¨ν„΄μ€ μ›λ³Έ ν΄λμ¤λ¥Ό λ³€κ²½ν•μ§€ μ•μ€ μƒνƒλ΅ **ν”„λ΅μ‹ ν΄λμ¤**λ¥Ό λ„μ…ν•μ—¬ μ›λ³Έ ν΄λμ¤μ™€ κ΄€λ ¨ μ—†λ” μƒλ΅μ΄ κΈ°λ¥μ„ μ¶”κ°€ν•λ” κ²ƒμ΄λ‹¤.  

```kotlin
class UserController(
  private val metricsCollector: MetricsCollector
) {
  
  fun login(tel: String, password: String) : UserVO {
    // ν•µμ‹¬ μ™Έ κΈ°λ¥ : μ‹¤ν–‰ μ‹μ‘ μ‹κ°„ κΈ°λ΅

    // ν•µμ‹¬ : λΉ„μ¦λ‹μ¤ λ΅μ§

    // ν•µμ‹¬ μ™Έ κΈ°λ¥ : μ‹¤ν–‰ κ²°κ³Ό μ‹κ°„ κ³„μ‚° λ° Metricμ „λ‹¬
  }
}
```

μ„μ μμ λ¥Ό λ³΄λ©΄ **μ„±λ¥ ν†µκ³„ μ½”λ“κ°€ λΉ„μ¦λ‹μ¤ μ½”λ“λ¥Ό μΉ¨λ²”ν•΄ λ°€μ ‘ν•κ² κ²°ν•©λμ–΄ μλ‹¤.**  
μ΄ν›„ `MetricsCollector`κ°€ λ³€κ²½λμ–΄μ•Ό ν•λ‹¤λ©΄ ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§μ—λ„ μμ •μ΄ μΌμ–΄λ‚  ν™•λ¥ μ΄ λ†’λ‹¤.  
  
μ΄λ• λΉ„μ¦λ‹μ¤ μ½”λ“μ—μ„ μ„±λ¥ ν†µκ³„ μ½”λ“λ¥Ό λ¶„λ¦¬ν•κΈ° μ„ν•΄ ν”„λ΅μ‹ ν¨ν„΄μ΄ μ μ©ν•κ² μ‚¬μ©λ  μ μλ‹¤.  

```kotlin
interface IUserController {
    fun login(tel: String, password: String) : UserVO
}

class UserController: IUserController {
    override fun login(tel: String, password: String): UserVO {
        // ν•µμ‹¬ λ΅μ§
    }
}

class UserControllerProxy (
    private val target: IUserController,
    private val metricsCollector: MetricsCollector
) : IUserController {
    override fun login(tel: String, password: String): UserVO {
        // λ¶€κ°€ κΈ°λ¥
        target.login(tel, password)
        // λ¶€κ°€ κΈ°λ¥
    }
}
```

μ„μ μ½”λ“μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ” `IUserController` νƒ€μ…μ— μμ΅΄ν•μ§€λ§ μ‹¤μ  κµ¬ν„μ²΄λ¥Ό `UserControllerProxy`λ΅ μ£Όμ…ν•κ² λλ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ” ν”„λ΅μ‹μ κΈ°λ¥ μ΅΄μ¬λ¥Ό μ•μ•„μ°¨λ¦΄ μ μ—†λ‹¤.  

## μƒμ† κΈ°λ°μ ν”„λ΅μ‹ ν¨ν„΄

μΈν„°νμ΄μ¤ κΈ°λ°μ ν”„λ΅μ‹ ν¨ν„΄μ—μ„λ” μ›λ³Έ ν΄λμ¤μ™€ ν”„λ΅μ‹ ν΄λμ¤κ°€ λ™μΌν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν–λ‹¤.  
ν•μ§€λ§ μ›λ³Έ ν΄λμ¤κ°€ μ™Έλ¶€ λΌμ΄λΈλ¬λ¦¬μ ν΄λμ¤μΌ λΏλ§ μ•„λ‹λΌ μΈν„°νμ΄μ¤λ¥Ό μ •μν•μ§€ μ•κ³  μμ–΄μ„ ν΄λμ¤λ¥Ό μ§μ ‘ μμ •ν•  μ μ—†λ” κ²½μ°μ— μ ν•©ν•λ‹¤.  

```kotlin
open class UserController {
    open fun login(tel: String, password: String): UserVO {
        // ν•µμ‹¬ λ΅μ§
    }
}

class UserControllerProxy (
    private val metricsCollector: MetricsCollector
) : UserController() {
    override fun login(tel: String, password: String): UserVO {
        // λ¶€κ°€ κΈ°λ¥
        super.login(tel, password)
        // λ¶€κ°€ κΈ°λ¥
    }
}
```

## λ¦¬ν”λ ‰μ… κΈ°λ°μ λ™μ  ν”„λ΅μ‹

μ•μ μμ λ” ν”„λ΅μ‹ ν΄λμ¤κ°€ μ›λ³Έ ν΄λμ¤μ λ¨λ“  λ©”μ„λ“λ¥Ό λ‹¤μ‹ κµ¬ν„ν•΄μ•Όν•κΈ° λ•λ¬Έμ— λ²κ±°λ΅­λ‹¤.  
κ·Έλ¦¬κ³  ν”„λ΅μ‹ ν΄λμ¤κ°€ λμ–΄λ‚ μλ΅ λ³µμ΅λ„κ°€ μ»¤μ§„λ‹¤.  
  
μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ” λ°©λ²•μ€ **λ™μ  ν”„λ΅μ‹** λ¥Ό μ‚¬μ©ν•μ—¬ κ° μ›λ³Έ ν΄λμ¤μ— λ€ν• ν”„λ΅μ‹ ν΄λμ¤λ¥Ό λ―Έλ¦¬ μ‘μ„±ν•λ” λ€μ‹ , `μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ” λ„μ¤‘μ— μ›λ³Έ ν΄λμ¤μ— λ€ν• ν”„λ΅μ‹ ν΄λμ¤λ¥Ό λ™μ μΌλ΅ μƒμ„±ν•κ³ , μ½”λ“ λ‚΄μ μ›λ³Έ ν΄λμ¤λ¥Ό ν”„λ΅μ‹ ν΄λμ¤λ΅ λ€μ²΄ν•λ” κ²ƒ`μ„ λ§ν•λ‹¤.  
ν†µκ³„μ  μ„±λ¥μ΄ ν•„μ”ν• ν΄λμ¤λ¥Ό μ„ν•΄ ν”„λ΅μ‹ ν΄λμ¤λ¥Ό λ™μ μΌλ΅ μƒμ„±ν•΄μ£Όλ” `MetricsControllerProxy` λ™μ  ν”„λ΅μ‹ ν΄λμ¤λ¥Ό ν™•μΈν•΄λ³΄μ.

```kotlin
fun main(args: Array<String>) {
    val proxy = MetricsControllerProxy()
    val controller: IUserController = proxy.createProxy(UserController()) as IUserController
    controller.hello("first")
    controller.bye("second")
}

interface IUserController {
    fun hello(name: String) : String
    fun bye(name: String) : String
}

class UserController : IUserController {
    override fun hello(name: String) = "hello $name"
    override fun bye(name: String) = "bye $name"
}

class MetricsControllerProxy {

    fun createProxy(proxiedObject: Any) : Any {
        val interfaces : Array<Class<*>> = proxiedObject.javaClass.interfaces
        val dynamicProxyHandler = DynamicProxyHandler(proxiedObject)
        return newProxyInstance(
            proxiedObject.javaClass.classLoader,
            interfaces,
            dynamicProxyHandler
        )
    }

    private class DynamicProxyHandler (
        private val proxiedObject: Any
    ) : InvocationHandler {
        override fun invoke(proxy: Any, method: Method, args: Array<out Any>): Any {
            val startTimeStamp = System.currentTimeMillis()

            val result = method.invoke(proxiedObject, args[0])

            val endTimeStamp = System.currentTimeMillis()
            val responseTime = endTimeStamp - startTimeStamp

            // responseTime Metric κΈ°λ΅
            println("response time : $responseTime, result : $result")

            return result
        }
    }
}
```

***

# **[λ°μ½”λ μ΄ν„° ν¨ν„΄](https://github.com/jdalma/design-patterns/commit/9537c45bc4b9c53e0f9af0d4bd48c7503998fc2d)**

**κΈ°μ΅΄ μ½”λ“λ¥Ό λ³€κ²½ν•μ§€ μ•κ³  λ¶€κ°€ κΈ°λ¥μ„ μ¶”κ°€ν•λ” ν¨ν„΄**   
Javaμ `IO ν΄λμ¤ λΌμ΄λΈλ¬λ¦¬`κ°€ κ°€μ§€κ³  μλ” κΈ°λ³Έ μ„¤κ³„ μ‚¬μƒμ„ λ¶„μ„ν•μ—¬ λ°μ½”λ μ΄ν„° ν¨ν„΄μ„ μ„¤λ…ν•  μ μλ‹¤.  

```java
InputStream bin = new BufferedInputStream(new FileInputStream("text.txt"))
```

![](imgs/structureRelated/inputStream.png)

μ΄λ ‡κ² μ‚¬μ©ν•  λ°”μ—λ” **FileInputStream** ν΄λμ¤λ¥Ό ν™•μ¥ν•μ—¬ μΊμ‹±μ„ μ§€μ›ν•λ” **BufferedFileInputStream** ν΄λμ¤λ¥Ό μ„¤κ³„ν•λ” κ²ƒμ΄ λ” λ‚«μ§€ μ•μ„κΉ?  
μ•„λμ™€ κ°™μ΄ λ§μ΄λ‹¤.

```java
InputStream bin = new BufferedFileInputStream("text.txt")
```

μƒμ† κµ¬μ΅°κ°€ λΉ„κµμ μΌλ΅ κ°„λ‹¨ν•λ©΄ λ¬Έμ κ°€ λμ§€ μ•μ§€λ§, InputStream ν΄λμ¤μ— μλ§μ€ ν•μ„ ν΄λμ¤κ°€ μ΅΄μ¬ν•κΈ° λ•λ¬Έμ—, λ¨λ“  ν•μ„ ν΄λμ¤μ— λ²„νΌ κΈ°λ°μ μ½κΈ°λ¥Ό μ¶”κ°€ν•κ² λλ©΄ `Buffered`λ΅ μ‹μ‘ν•λ” μλ§μ€ ν•μ„μ ν•μ„ ν΄λμ¤λ¥Ό νμƒμ‹μΌμ•Ό ν•λ‹¤. [Hierarchy For Package java.io](https://docs.oracle.com/javase/8/docs/api/java/io/package-tree.html)  
μ¶”κ°€λ΅ κΈ°λ³Έ λ°μ΄ν„° μ ν•μ— λ”°λΌ λ°μ΄ν„° μΊμ‹±κ³Ό μ½κΈ°λ¥Ό λ¨λ‘ μ§€μ›ν•λ” ν΄λμ¤κ°€ ν•„μ”ν•λ‹¤λ©΄ λ‹¤μ‹ **BufferedData** λ΅ μ‹μ‘ν•λ” μλ§μ€ ν•μ„ ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ•Ό ν•  κ²ƒμ΄λ‹¤.  
μ΄λ¬ν• μ΄μ λ΅ μΈν•΄ **Java IO ν΄λμ¤ λΌμ΄λΈλ¬λ¦¬κ°€ λ„λ¬΄ μ»¤μ§ μ μκΈ° λ•λ¬Έμ— μƒμ†μ΄ μ•„λ‹ `ν•©μ„±`μ„ μ‚¬μ©ν–λ‹¤.**  
  
κ·ΈλΌ λ°μ½”λ μ΄ν„° ν¨ν„΄μ€ λ‹¨μν μƒμ†μ„ ν•©μ„±μΌλ΅ λ€μ²΄ν•λ” λ° μ‚¬μ©λλ” ν¨ν„΄μ΄λΌκ³  μƒκ°ν•  μλ„ μμ§€λ§, κ·Έλ ‡μ§€ μ•λ‹¤.  
Java IO ν΄λμ¤ λΌμ΄λΈλ¬λ¦¬ μ„¤κ³„μ—μ„ λ°μ»¤λ μ΄ν„° ν¨ν„΄μ΄ μ‚¬μ©λ μ΄μ λ” ν•©μ„± κ΄€κ³„μ™€ μ•„λμ™€ κ°™μ€ μ°¨μ΄μ μ΄ μλ‹¤.  

<h3>λ°μ½”λ μ΄ν„° ν΄λμ¤κ°€ μ›λ³Έ ν΄λμ¤μ™€ λ™μΌν• μƒμ„ ν΄λμ¤λ¥Ό μƒμ†ν•κΈ° λ•λ¬Έμ—, μ›λ³Έ ν΄λμ¤ λ‚΄μ— μ—¬λ¬ κ°μ λ°μ½”λ μ΄ν„° ν΄λμ¤λ¥Ό μ¤‘μ²©ν•  μ μλ‹¤λ” μ </h3>

`FileInputStream`ν΄λμ¤μ— λ€ν•΄ λ‘ κ°μ λ°μ½”λ μ΄ν„° ν΄λμ¤μΈ `Buffered`μ™€ `Data` InputStreamμ„ μ¤‘μ²©ν•μ—¬ **κΈ°λ³Έ λ°μ΄ν„° μ ν•μ— λ”°λΌ λ²„νΌ κΈ°λ°μ μ½κΈ°μ™€ λ°μ΄ν„° μ½κΈ°λ¥Ό λ¨λ‘ μ§€μ›ν•κ³  μλ‹¤λ” κ²ƒμ„ μ• μ μλ‹¤.**  

```java
FileInputStream fileInputStream = new FileInputStream("test.txt");
BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream);
DataInputStream dataInputStream = new DataInputStream(bufferedInputStream);
```

<h3>λ°μ½”λ μ΄ν„° ν΄λμ¤μ κΈ°λ¥μ΄ μ›λ³Έ ν΄λμ¤μ κΈ°λ¥μ„ ν–¥μƒμ‹ν‚¤λ” μ </h3>

ν”„λ΅μ‹ ν¨ν„΄κ³Ό λ°μ½”λ μ΄ν„° ν¨ν„΄μ€ λ§¤μ° μ μ‚¬ν•μ§€λ§, **ν”„λ΅μ‹ ν¨ν„΄μ ν”„λ΅μ‹ ν΄λμ¤λ” μ›λ³Έ ν΄λμ¤μ™€ κ΄€λ ¨μ΄ μ—†λ” κΈ°λ¥μ„ μ¶”κ°€ν•λ” λ°λ©΄, λ°μ½”λ μ΄ν„° ν¨ν„΄μ λ°μ½”λ μ΄ν„° ν΄λμ¤λ” μ›λ³Έ ν΄λμ¤μ™€ κ΄€λ ¨μ΄ κΉμ€ κΈ°λ¥μ„ μ¶”κ°€ν•λ‹¤.**  

```java
public interface IA {
    void f();
}

public class A implements IA {
    public void f() { ... }
}

public class ADecorator implements IA {
    private IA a;
    public ADecorator(IA a) {
        this.a = a;
    }

    public void f() {
        // κΈ°λ¥ ν–¥μƒ μ½”λ“
        a.f();
        // κΈ°λ¥ ν–¥μƒ μ½”λ“
    }
}
```

**λ°μ½”λ μ΄ν„° ν΄λμ¤λ” κ°μ„ ν•΄μ•Ό ν•λ” λ©”μ„λ“λ§ κµ¬ν„ν•κ³ , λ‹¤λ¥Έ λ©”μ„λ“λ” λ°μ½”λ μ΄ν„° μƒμ„ ν΄λμ¤μ κΈ°λ³Έ κµ¬ν„μ„ μƒμ†ν•λ‹¤.**  
ν•µμ‹¬μ€ **μ›λ³Έ ν΄λμ¤μ— `ν–¥μƒΉλ κΈ°λ¥μ„ μ¶”κ°€`ν•λ” κ²ƒμ΄λ©°, μ΄λ” λ°μ½”λ μ΄ν„° ν¨ν„΄ μ‚¬μ© μ—¬λ¶€λ¥Ό νλ‹¨ν•λ” μ¤‘μ”ν• κΈ°μ¤€μ΄κΈ°λ„ ν•λ‹¤.**  

## μ μ© μμ 

1. `InputStream`, `OutputStream`, `Reader`, `Writer`μ μƒμ„±μλ¥Ό ν™μ©ν• λ©νΌ
2. `Collections`μ΄ μ κ³µν•λ” λ°μ½”λ μ΄ν„° λ©”μ†λ“
   - `Collections.checkedXXX()`
   - `Collections.synchronizedXXX()`
   - `Collections.unmodifiableXXX()`
3. μ›Ήν”λ­μ¤ `ServerHttpRequestDecorator`, `ServerHttpResponseDecorator`
4. λΉ μ„¤μ • λ°μ½”λ μ΄ν„° `BeanDefinitionDecorator`

***

# **[μ–΄λ‘ν„° ν¨ν„΄](https://github.com/jdalma/design-patterns/tree/master/src/main/java/me/whiteship/designpatterns/_02_structural_patterns/_06_adapter)**
  
**μ΅°μ •μ— λ”°λ¥Έ `μ μ‘ adaptation`μ— μ‚¬μ©λλ©°, νΈν™λμ§€ μ•λ” μΈν„°νμ΄μ¤λ¥Ό νΈν™ κ°€λ¥ν• μΈν„°νμ΄μ¤λ΅ λ³€ν™ν•μ—¬, λ‘ ν΄λμ¤λ¥Ό ν•¨κ» μ‘λ™ν•  μ μκ² ν•λ‹¤.**  
**μ–΄λ‘ν„°λ¥Ό μ‚¬μ©ν•λ” ν° μ΄μ  μ¤‘ ν•λ‚λ” ν΄λΌμ΄μ–ΈνΈκ°€ μΌκ΄€λκ² μ‚¬μ©ν•κΈ° μ„ν•¨** μ΄λ―€λ΅ μλ¥Ό λ“¤μ–΄ λΌμ΄λΈλ¬λ¦¬ λ‚΄λ¶€μ— μλ” λ©”μ„λ“μ μ‹κ·Έλ‹μ²κ°€ λ§μ€ νλΌλ―Έν„°λ¥Ό λ°›μ„ λ• μ–΄λ‘ν„° ν¨ν„΄μ„ μ μ©ν•΄μ„ νλΌλ―Έν„°λ¥Ό ν΄λμ¤λ΅ λν•‘ν•΄μ„ μ‚¬μ©ν•λ„λ΅ ν•λ” κ²ƒμ΄λ‹¤.  
`μƒμ† κ΄€κ³„`λ¥Ό μ‚¬μ©ν• **ν΄λμ¤ μ–΄λ‘ν„°** μ™€ `ν•©μ„± κ΄€κ³„`λ¥Ό μ‚¬μ©ν• **κ°μ²΄ μ–΄λ‘ν„°**μ— λ€ν•΄ μ‚΄ν΄λ³΄μ.  
  
```kotlin
interface ITarget {
    fun f1()
    fun f2()
    fun fc()
}

open class Adaptee {
    fun fa() { TODO() }
    fun fb() { TODO() }
    fun fc() { TODO() }
}

class InheritanceAdaptor : Adaptee(), ITarget {
    override fun f1() {
        // do something
        super.fa()
        // do something
    }
    override fun f2() {
        // do something
        super.fb()
        // do something
    }
}

class CompositeAdaptor(
    private val adaptee: Adaptee
) : ITarget {
    override fun f1() {
        adaptee.fa()
    }
    override fun f2() {
        adaptee.fb()
    }
    override fun fc() {
        adaptee.fc()
    }
}
```

μ„μ μμ μ²λΌ **νλΌλ―Έν„° μμ²΄κ°€ μ—†κ±°λ‚ νλΌλ―Έν„°κ°€ λ™μΌν• κ²½μ°μ—λ” μ–΄λ‘ν„°μ ν¨ν„΄μ΄ ν° μ—­ν• μ„ ν•λ‹¤κ³  λ³Ό μ μ—†λ‹¤.**  
**μƒμ† κΈ°λ° μ–΄λ‘ν„°** λ” `fc`λ©”μ†λ“λ¥Ό μ¶”κ°€μ μΌλ΅ κµ¬ν„ν•΄ μ¤„ ν•„μ”κ°€ μ—†λ” κ²ƒμ΄ ν° μ°¨μ΄μ μ΄λ‹¤.  
  
κ·ΈλΌ μ–΄λ–¤ κ²ƒμ„ μ„ νƒν•΄μ•Ό ν• κΉ?  
**`Adaptee` μ** μ™€ **`Adaptee` μ™€ `ITarget`μΈν„°νμ΄μ¤ κ°„μ μ ν•©λ„** λ¥Ό λΉ„κµν•΄μ•Ό ν•λ‹¤.  

1. Adapteeκ°€ λ§μ§€ μ•λ‹¤λ©΄ λ‘ λ°©μ‹ μ¤‘ μ–΄λ κ²ƒμ„ μ‚¬μ©ν•΄λ„ λ¬΄λ°©ν•λ‹¤.
2. Adapteeμ™€ ITarget μΈν„°νμ΄μ¤μ μ •μκ°€ λ€λ¶€λ¶„ κ°™λ‹¤λ©΄ Adapter ν΄λμ¤κ°€ μƒμ„ ν΄λμ¤ Adapteeλ¥Ό μ¬μ‚¬μ©ν•  μ μμΌλ―€λ΅ ν΄λμ¤ μ–΄λ‘ν„°λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤. **μ‹¤μ λ΅ κ°μ²΄ μ–΄λ‘ν„°μ— λΉ„ν•΄ ν΄λμ¤ μ–΄λ‘ν„°μ μ½”λ“κ°€ λ” μ‘λ‹¤.**
3. Adapteeμ™€ ITarget μΈν„°νμ΄μ¤μ μ •μκ°€ λ€λ¶€λ¶„ λ‹¤λ¥΄λ‹¤λ©΄, **μƒμ† κµ¬μ΅°λ³΄λ‹¤ μ μ—°ν• ν•©μ„± κµ¬μ΅° κΈ°λ°μ κ°μ²΄ μ–΄λ‘ν„°λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.**

> "μ–΄λ‘ν„° ν¨ν„΄μ€ μ„¤κ³„ κ²°ν•¨μ„ **κµμ •** ν•λ” **λ³΄μƒ ν¨ν„΄** μΌλ΅ λ³Ό μ μλ‹¤."  
> "μ΄ ν¨ν„΄μ„ μ μ©ν•΄μ•Ό ν•λ‹¤λ” κ²ƒμ€ μ΄λ―Έ **μ–΄μ©” μ μ—†λ” μƒν™©** μ— λ„λ‹¬ν–λ‹¤λ” λ»μ΄λ©°, μ„¤κ³„ μ΄κΈ° λ‹¨κ³„μ—μ„ **μΈν„°νμ΄μ¤ λΉ„νΈν™μ„± λ¬Έμ λ¥Ό ν”Όν•  μ μλ‹¤λ©΄ μ΄ ν¨ν„΄μ€ μ‚¬μ©λ  ν•„μ”κ°€ μ—†λ‹¤.**"

<h3>μ²« λ²μ§Έ. κ²°ν•¨μ΄ μλ” μΈν„°νμ΄μ¤ μ„¤κ³„κ°€ μΊ΅μν™”λ κ²½μ°</h3>

μ™Έλ¶€ μ‹μ¤ν…μ μΈν„°νμ΄μ¤ μ„¤κ³„κ°€ λ§μ€ μ •μ  λ©”μ„λ“λ¥Ό ν¬ν•¨ν•λ” κ²ƒκ³Ό κ°™μ€ κ²°ν•¨μ΄ μλ‹¤λ©΄, μ½”λ“μ ν…μ¤νΈ μ©μ΄μ„±μ— μν–¥μ„ λ―ΈμΉκ² λλ‹¤.  
μ„¤κ³„ κ²°ν•¨μ„ λ¶„λ¦¬ν•κΈ° μ„ν•΄ **μ™Έλ¶€ μ‹μ¤ν…μ—μ„ μ κ³µν•λ” μΈν„°νμ΄μ¤λ¥Ό λ‹¤μ‹ μΊ΅μν™”ν•΄ λ†’μ€ μ‚¬μ©μ„±κ³Ό ν…μ¤νΈ μ©μ΄μ„±μ„ μΈν„°νμ΄μ¤λ΅ μ¬κµ¬μ¶•ν•κ³  μ‹¶λ‹¤λ©΄ ν•΄λ‹Ή ν¨ν„΄μ΄ μ μ ν•λ‹¤.**  

```kotlin
open class ExternalLibraryClass {
    companion object {
        fun staticFunction() { TODO() }
    }
    fun function1(param1 : String, param2 : Int) { TODO() }
    fun function2(param1 : Int) { TODO() }
}

interface ITarget {
    data class ParamsWrapper (
        val param1: String,
        val param2: Int
    )
    fun function1(wrapper: ParamsWrapper)
    fun function2(param1: Int)
    fun function3()
}

class Adaptor : ExternalLibraryClass(), ITarget {
    override fun function1(wrapper: ITarget.ParamsWrapper) {
        super.function1(wrapper.param1, wrapper.param2)
    }
    override fun function3() {
        staticFunction()
    }
}
```

<h3>λ‘ λ²μ§Έ. μ—¬λ¬ ν΄λμ¤μ μΈν„°νμ΄μ¤ μ„¤κ³„λ¥Ό ν†µν•©ν• κ²½μ°</h3>

μ–΄λ‘ν„° ν¨ν„΄μ„ ν†µν•΄ μΈν„°νμ΄μ¤λ¥Ό ν†µν•©ν•κ³  μ΅°μ •ν• λ‹¤μ, λ‹¤ν•μ„±μ„ μ‚¬μ©ν•μ—¬ μ½”λ“ λ…Όλ¦¬λ¥Ό μ¬μ‚¬μ©ν•  μ μλ‹¤.  
μλ¥Ό λ“¤μ–΄, μ‚¬μ©μκ°€ μ…λ ¥ν• ν…μ¤νΈμ—μ„ λ―Όκ°ν• λ‹¨μ–΄λ¥Ό ν•„ν„°λ§ν•΄μ•Ό ν•λ‹¤κ³  μƒκ°ν•΄λ³΄μ.  
λ‹¤μ–‘ν• μ„λ“ νν‹° λ‹¨μ–΄ ν•„ν„°λ§ μ‹μ¤ν…μ„ λ„μ…ν•μ—¬ κ°€λ¥ν• λ§μ€ λ‹¨μ–΄λ¥Ό ν•„ν„°λ§ ν•λ ¤ν•λ”λ°, **μ„λ“ νν‹° μ‹μ¤ν…λ§λ‹¤ μ κ³µν•λ” ν•„ν„°λ§ μΈν„°νμ΄μ¤κ°€ λ‹¤λ¥΄λ‹¤.**  


<h3>μ„Έ λ²μ§Έ. </h3>

![](imgs/structureRelated/adapterDiagram.png)

![](imgs/structureRelated/adapter1.png)

- **UserDetail** , **UserDetailsService** μΈν„°νμ΄μ¤κ°€ `Target`μ— ν•΄λ‹Ήν•λ‹¤
- **Account** μ™€ **AccountService**κ°€ `Adaptee`μ— ν•΄λ‹Ήν•λ‹¤
- π“
  - μ–΄λ–»κ² **UserDetailsService**μ™€ **AccountService**λ¥Ό μ—°κ²°ν•  κ²ƒ μΈκ°€?
  - μ–΄λ–»κ² **Account**μ™€ **UserDetails**λ¥Ό μ—°κ²°ν•  κ²ƒμΈκ°€?

***

# **λΈλ¦¬μ§€ ν¨ν„΄**

// TODO